
<html>
<head>
    <html lang="en">
        <head>
            <!--[if IE]>
             <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
             <![endif]-->
            <meta charset="utf-8">
            <meta name="viewport" content="initial-scale = 1.0,maximum-scale = 1.0" />
            <meta name="apple-mobile-web-app-capable" content="yes">
                <meta name="apple-mobile-web-app-status-bar-style" content="black">
                    <link rel="apple-touch-icon" href="http://res.cloudinary.com/hfssuzvwj/image/upload/q_28/v1421502303/music_logo_qibunl.png">
                        <link rel="apple-touch-startup-image" href="http://res.cloudinary.com/hfssuzvwj/image/upload/q_28/v1421502303/music_logo_qibunl.png">
						 <link rel="stylesheet" href="bootstrap/css/framework7.min.css"/>
		               <link rel="stylesheet" href="css/otIcon/css/font-awesome.min.css"/>
		               
                   
						
						<!-- <script src="http://code.jquery.com/ui/1.8.21/jquery-ui.min.js"></script> -->
						 <script src="bootstrap/js/jquery.ui.touch-punch.min.js"></script>
						 
		                   
		                  <script src="bootstrap/js/mustache.js"></script>
		                    <script src="bootstrap/js/jquery.js"></script>
		                   <script src="http://music-kicker.herokuapp.com/socket.io/socket.io.js"></script>
                    <script>
						 
						   var em;
                        var world=0;
                        var socket=io('http://music-kicker.herokuapp.com');
						
                       
                        
                        function get_info(){
							myApp.showIndicator();
                        
                         em=document.getElementById('email').value;
                        var pas=document.getElementById('password').value;
			
                        var pas_two=document.getElementById('password_two').value;
                        var add=document.getElementById('address').value; // va visto che risultato da
                        var genre=document.getElementById('genre').value;
                       var named=document.getElementById('named').value
                       
                        //verifica dei dati validi
                        var info={"email":em, "password":pas, "address":world,  "genre" : genre, "name" : named};
                        //va visto che ritorna add
			if(info.address=='undefined')
			{
				info.address=0;
			}
                        console.log(info.address);
		if(info.address.length>0){
                        if(pas==pas_two && pas.length>=4){
                            
                            if(em.length > 1){
                                if(add.length >1){
					console.log(info.name);
					if(info.name.length>1){
                                    socket.emit('get_info',info);
				    console.log("sent");
			    }else{
				myApp.alert("Insert an artist name");
				myApp.hideIndicator();
			    }
                                }
                                else {
					myApp.alert("Insert your country");
					myApp.hideIndicator();}
                            }
                            else{
                                myApp.alert("Insert your email");
				myApp.hideIndicator();
                            }
                        }
                        else{
                            myApp.alert("Check your password or your password is less than 4 characters");
                        myApp.hideIndicator();
                        }
					}else{myApp.alert("Click on google maps tip");
				myApp.hideIndicator();}
                    }
                    
                              
                              socket.on('email',function(){
                                        myApp.alert("The email you try to insert is already used write another one");
										myApp.hideIndicator();
                                        });
                                        
                                        socket.on('kick_back',function(){
											
											window.localStorage.clear();
											window.localStorage.setItem("musicKey", em);
											window.location.href='index.html';
											myApp.hideIndicator();
                                                  });
                    </script>
                    <style>
                                body{
                                    background-color:#EFEFEF;
                                }
                                #container{
                                position:relative;
                                top:50px;
                                }
                                
                                </style>
                            
        </head>
	<body>
		
		<div class="statusbar-overlay"></div>
		    <!-- Panels overlay-->
		    <div class="panel-overlay"></div>
		    <!-- Left panel with reveal effect-->
		    <div class="panel panel-left panel-reveal">
		      <div class="content-block">
		        <p>Here it goes setting</p>
		      </div>
		    </div>
		    <!-- Views -->
		    <div class="views">
		    
		      <div class="view view-main">
		        <!-- Top Navbar-->
		        <div class="navbar">
		          <div class="navbar-inner">
					  <div class="left">
					<i class="fa fa-long-arrow-left" style="width:100%; font-size:30px;" onclick="window.location.href='index.html';"></i>
					
					  </div>
		            <!-- We need cool sliding animation on title element, so we have additional "sliding" class -->
		            <div class="center sliding"><img src="http://res.cloudinary.com/hfssuzvwj/image/upload/q_28/v1421502303/music_logo_qibunl.png" style="width:50px;"></div>
		            <div class="right">
		              <!-- 
		                Right link contains only icon - additional "icon-only" class
		                Additional "open-panel" class tells app to open panel when we click on this link
		              -->
		              <a href="#" class="link icon-only open-panel "><i class="icon icon-bars-blue"></i></a>
		            </div>
		          </div>
		        </div>
		        <!-- Pages container, because we use fixed-through navbar and toolbar, it has additional appropriate classes-->
		        <div class="pages navbar-through toolbar-through">
		          <!-- Page, "data-page" contains page name -->
		          <div data-page="index" class="page">
		            <!-- Scrollable page content -->
		            <div class="page-content hide-navbar-on-scroll">
						<!-- La parte principale che cambia -->
					  <div class="content-block-title">Your Info</div>
					  <div class="list-block">
					    <ul>
					      <!-- Text inputs -->
					      <li>
					        <div class="item-content">
					          <div class="item-media"></div>
					          <div class="item-inner">
					            <div class="item-title label">Your City</div>
					            <div class="item-input">
					              <input type="text" id="address" placeholder="Your City">
					            </div>
					          </div>
					        </div>
					      </li>
  						  <li>
  				        <div class="item-content">
  				          <div class="item-media"></div>
  				          <div class="item-inner">
  				            <div class="item-title label">Name</div>
  				            <div class="item-input">
  				              <input type="text" id="named" placeholder="Insert your artist name"/>
  				            </div>
  				          </div>
  				        </div>
							  
  						  </li>
					      <li>
					        <div class="item-content">
					          <div class="item-media"></div>
					          <div class="item-inner">
					            <div class="item-title label">E-mail</div>
					            <div class="item-input">
					              <input type="email" id="email" placeholder="E-mail">
					            </div>
					          </div>
					        </div>
					      </li>
						  <li>
					        <div class="item-content">
					          <div class="item-media"></div>
					          <div class="item-inner">
					            <div class="item-title label">Password</div>
					            <div class="item-input">
					              <input type="password" id="password" placeholder="Password">
					            </div>
					          </div>
					        </div>
							
							
						  </li>
						  <li>
				        <div class="item-content">
				          <div class="item-media"></div>
				          <div class="item-inner">
				            <div class="item-title label">Check Password</div>
				            <div class="item-input">
				              <input type="password" id="password_two" placeholder="Check Password">
				            </div>
				          </div>
				        </div>
							  
						  </li>
						  <li>
							  <div class="list-block">
							    <ul>
							      <!-- Smart select item -->
							      <li>
							        <!-- Additional "smart-select" class -->
							        <a href="#" class="item-link smart-select">
							          <!-- select -->
							          <select name="genre" id="genre">
					
							           	   <option selected="selected" value="Pop">Pop</option>
							            	  	<option value="Rock">Rock</option>
							           	   		<option value="HipHop">Hip Hop</option>
							  				 <option value="Jazz">Jazz</option>
							  				 <option value="Classical">Classical</option>
							  				 <option value="Country">Country</option>
							  				 <option value="Dance">Dance</option>
							  				 <option value="Drum And Bass">Drum And Bass</option>
							          		<option value="Electro">Electro</option>
							  				<option value="Edm">Edm</option>
							  				<option value="Folk">Folk</option>
							  				<option value="Latino">Latino</option>
							  				<option value="Metal">Metal</option>
							  				<option value="Punk">Punk</option>
							  				<option value="Techno">Techno</option>
											<option value="Funk">Funk</option>
											<option value="Opera">Opera</option>
											<option value="R&B">R&B/Soul</option>
							  		</select>
							          <div class="item-content">
							            <div class="item-inner">
							              <!-- Select label -->
							              <div class="item-title">Genre</div>
							              <!-- Selected value, not required -->
							              <div class="item-after"></div>
							            </div>
							          </div>
							        </a>
							      </li>
    
							    </ul>
							  </div>   
							  				
						  </li>
						  <p><a onclick="get_info();" class="button">Sign Up!</a></p>
					  </ul>
				  </div>
			 
			  
		              <!-- Link to another page -->
		              
					  
		            </div>
		          </div>
		        </div>
		        
		      
			  </div>
			  
		    </div>
       
			
				  <script src="bootstrap/js/framework7.js"></script>
				<script type="text/javascript">
				var myApp = new Framework7({
					modalTitle: 'Music Kicker'
					
				});
 
				// If we need to use custom DOM library, let's save it to $$ variable:
				var $$ = Dom7;
 
				// Add view
				var mainView = myApp.addView('.view-main', {
				  // Because we want to use dynamic navbar, we need to enable it for this view:
				  dynamicNavbar: true
				});

				$$('.open-left-panel').on('click', function (e) {
				       // 'left' position to open Left panel
				       myApp.openPanel('left');
				   });
				</script>
               <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&libraries=places&language=en"></script>
                <script>
                    
                    var autocomplete = new google.maps.places.Autocomplete(document.getElementById('address'));
                    $(document).on({'DOMNodeInserted': function() { $('.pac-item, .pac-item span', this).addClass('no-fastclick'); } }, '.pac-container');

                    google.maps.event.addListener(autocomplete, 'place_changed', function() {
						
                                                  var place = autocomplete.getPlace();
                                                  console.log(place.address_components);
                                                  world = place.address_components;
                                                  });
												  
						  						setTimeout(function(){
						  							$('.pac-container').appendTo('.view-main');
													$('.pac-container').css('-webkit-touch-callout','default');
													$('.pac-item').css('-webkit-touch-callout','default');
												},4000);
                                                  
                
                    </script>
												
                      
							 <style>
							 .pac-item{
								 z-index:9999;
							 }
							 </style>
        </body>
</html>
    